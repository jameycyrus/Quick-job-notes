<!doctype html>
<html lang="en">
<head>
<link rel="apple-touch-icon" sizes="180x180" href="icon.png">
<link rel="apple-touch-icon" href="icon.png">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Quick Job Notes 2 - Web Form</title>
<style>
  /* Before Photos upload + thumbnails */
input[type="file"]{
  width:25%;
  padding:12px;
  border:1px dashed #ccc;
  border-radius:12px;
  background:#fafafa;
}

/* 2 x 2 grid = ‚Äúquarter page‚Äù feel */
.photo-grid{
  display:grid;
  grid-template-columns: repeat(2, 1fr);
  gap:12px;
  margin:10px 0 20px;
}

.photo-card{
  border:1px solid #eee;
  border-radius:12px;
  padding:10px;
  background:#fff;
  break-inside: avoid;
  page-break-inside: avoid;
}

.photo-card img{
  width:100%;
  height:90px;
  object-fit:cover;
  display:block;
}
.photo-actions{
  display:flex;
  justify-content:flex-end;
  margin-top:8px;
}

.photo-actions button{
  padding:8px 10px;
  border-radius:10px;
  border:1px solid #ddd;
  background:#fff;
}

/* Print/PDF rules */
@media print{
  .toolbar{display:none !important;}

  /* make photos bigger on paper */
  .photo-card img{ height:90px; }

  /* force a new page after every 4 photos */
  .print-page-break{
    break-after: page;
    page-break-after: always;
  }
}
  .options-list{display:flex; flex-direction:column; gap:10px; margin:10px 0;}
.opt{display:flex; align-items:center; gap:10px; padding:10px; border:1px solid #eee; border-radius:12px;}
.opt label{flex:1; font-weight:600;}
.opt .qty{width:90px; padding:10px; border:1px solid #aaa; border-radius:10px;}
.opt .customtext{flex:2; padding:10px; border:1px solid #aaa; border-radius:10px;}
  /* --- PRINT: keep photos small + 4 per page --- */
@media print {

  /* keep grid 2x2 */
  .photo-grid{
    display: grid !important;
    grid-template-columns: repeat(2, 1fr) !important;
    gap: 10px !important;
  }

  /* card must never grow */
  .photo-card{
    border: 1px solid #eee;
    border-radius: 10px;
    padding: 6px;
    break-inside: avoid;
    page-break-inside: avoid;
  }

  /* THIS is the big fix: hard cap image height in print */
  .photo-card img{
    width: 25% !important;
    height: 1.9in !important;     /* ~quarter-page-ish */
    max-height: 1.9in !important;  /* prevents ‚Äú3 pages tall‚Äù */
    object-fit: cover !important;
    display: block !important;
  }

  /* hide buttons/controls in PDF */
  .photo-actions,
  .toolbar,
  input[type="file"]{
    display: none !important;
  }

  /* Optional: if anything tries to split weirdly */
  .photo-page{
    break-after: page;
    page-break-after: always;
  }
}
  /* ===== BEFORE PHOTOS: HARD CLAMP (screen) ===== */
#beforePhotoGrid{
  display:grid;
  grid-template-columns: repeat(2, 1fr);
  gap:10px;
  margin:10px 0 20px;
}

#beforePhotoGrid .photo-card{
  border:1px solid #eee;
  border-radius:12px;
  padding:8px;
  background:#fff;
  break-inside: avoid;
  page-break-inside: avoid;
}

#beforePhotoGrid img{
  width:100% !important;
  max-width:100% !important;
  height:120px !important;        /* screen thumb size */
  max-height:120px !important;
  object-fit:cover !important;
  display:block !important;
  border-radius:10px;
}

/* ===== PRINT/PDF: EVEN HARDER CLAMP ===== */
@media print{
  #beforePhotoGrid{
    grid-template-columns: repeat(2, 1fr) !important;
    gap:8px !important;
  }

  #beforePhotoGrid img{
    height:1.4in !important;       /* PRINT size (4 per page vibe) */
    max-height:1.4in !important;
  }

  #beforePhotoGrid .photo-card{
    break-inside: avoid !important;
    page-break-inside: avoid !important;
  }
}
  /* Bottom toolbar */
.toolbar{
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 1000;
  display: flex;
  gap: 10px;
  align-items: center;
  flex-wrap: wrap;
  padding: 12px;
  background: #fff;
  border-top: 1px solid #ddd;
}

/* Make room so toolbar doesn‚Äôt cover form */
body{
  padding-bottom: 90px;
}
body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif; margin:16px; line-height:1.35}
h1{font-size:20px; margin:0 0 8px}
h2{font-size:16px; margin:18px 0 8px; color:#2F5E88}
.field{display:flex; gap:10px; flex-wrap:wrap; margin:8px 0}
label{font-weight:600}
input[type="text"], input[type="tel"], input[type="number"]{padding:10px; border:1px solid #aaa; border-radius:10px; min-width:220px}
.row{display:flex; align-items:center; justify-content:space-between; gap:12px; padding:12px; border:1px solid #ddd; border-radius:12px; margin:10px 0}
.row .left{display:flex; align-items:center; gap:10px}
.row input[type="checkbox"]{width:24px; height:24px}
.row input[type="number"]{min-width:90px}
.small{color:#666; font-size:12px}
textarea{width:100%; min-height:140px; padding:12px; border:1px solid #aaa; border-radius:12px}
hr{border:none; border-top:1px solid #eee; margin:18px 0}
</style>
</head>
<body>
  <div class="toolbar">
  <button type="button" onclick="saveDraft()">üíæ Save Draft</button>
  <button type="button" onclick="window.print()">üßæ Save / Print PDF</button>
  <button type="button" class="danger" onclick="newJob()">üÜï New Job</button>
  <span class="hint">Save draft first. Print PDF for records.</span>
</div>
<h1>Quick Job Notes</h1>

<div class="field">
  <div><label>Customer</label><br><input type="text" name="customer"></div>
  <div><label>Phone</label><br><input type="tel" name="phone"></div>
  <div><label>Job #</label><br><input type="text" name="job_number"></div>
</div>

<h2>Job Notes</h2>
<h2>Before Photos</h2>

<div class="field">
  <input
    id="beforePhotos"
    type="file"
    accept="image/*"
    capture="environment"
    multiple
  >
  <small>Take photos before work begins for documentation.</small>

</div>

<div id="beforePhotoGrid" class="photo-grid"></div>

<textarea name="job_notes" placeholder="Type/paste converted handwriting here..."></textarea>
<hr>
<h2>Job Checklist - Quick Notes</h2>

<h2>Scope / Findings</h2>
<div class="row"><div class="left"><input type="checkbox" name="scope_electrical"><span>Electrical issue</span></div></div>
<div class="row"><div class="left"><input type="checkbox" name="scope_plumbing"><span>Plumbing issue</span></div></div>
<div class="row"><div class="left"><input type="checkbox" name="scope_drywall"><span>Drywall repair</span></div></div>
<div class="row"><div class="left"><input type="checkbox" name="scope_appliance"><span>Appliance install</span></div></div>
<div class="row"><div class="left"><input type="checkbox" name="scope_fanlight"><span>Fan / light</span></div></div>
<div class="row"><div class="left"><input type="checkbox" name="scope_outletswitch"><span>Outlet / switch</span></div></div>
<div class="row"><div class="left"><input type="checkbox" name="scope_panelbreaker"><span>Panel / breaker</span></div></div>
<div class="row"><div class="left"><input type="checkbox" name="scope_other_cb"><span>Other</span></div><input type="text" name="scope_other_text" placeholder="Describe..."></div>
<h2>Actions Taken</h2>
<div class="row"><div class="left"><input type="checkbox" name="action_diagnosed"><span>Diagnosed only</span></div></div>
<div class="row"><div class="left"><input type="checkbox" name="action_tempfix"><span>Temporary fix</span></div></div>
<div class="row"><div class="left"><input type="checkbox" name="action_completed"><span>Repair completed</span></div></div>
<div class="row"><div class="left"><input type="checkbox" name="action_partsordered"><span>Parts ordered</span></div></div>
<div class="row"><div class="left"><input type="checkbox" name="action_returnvisit"><span>Return visit needed</span></div></div>
<h2>I Recommend</h2>
<div class="row"><div class="left"><input type="checkbox" name="rec_none"><span>No further action needed</span></div></div>
<div class="row"><div class="left"><input type="checkbox" name="rec_repairreplace"><span>Repair / replacement</span></div></div>
<div class="row"><div class="left"><input type="checkbox" name="rec_upgrade"><span>Upgrade (safety / performance)</span></div></div>
<div class="row"><div class="left"><input type="checkbox" name="rec_addcircuit"><span>Additional outlet / circuit</span></div></div>
<div class="row"><div class="left"><input type="checkbox" name="rec_panelupgrade"><span>Panel / breaker upgrade</span></div></div>
<div class="row"><div class="left"><input type="checkbox" name="rec_code"><span>Code or safety correction</span></div></div>
<div class="row"><div class="left"><input type="checkbox" name="rec_followup"><span>Schedule follow-up visit</span></div></div>
<div class="row"><div class="left"><input type="checkbox" name="rec_other_cb"><span>Other</span></div><input type="text" name="rec_other_text" placeholder="Describe..."></div>
<hr>
<h2>TV Mounting - Quick Checklist</h2>
<div class='small'>Qty is optional ‚Äî use it when it matters.</div>
<h2>TV Size / Quantity</h2>
<div class="row"><div class="left"><input type="checkbox" name="tv_19_43"><span>19‚Äì43 inch</span></div><input type="number" min="0" step="1" name="tv_19_43_qty" placeholder="Qty"></div>
<div class="row"><div class="left"><input type="checkbox" name="tv_44_65"><span>44‚Äì65 inch</span></div><input type="number" min="0" step="1" name="tv_44_65_qty" placeholder="Qty"></div>
<div class="row"><div class="left"><input type="checkbox" name="tv_66_85"><span>66‚Äì85 inch</span></div><input type="number" min="0" step="1" name="tv_66_85_qty" placeholder="Qty"></div>
<div class="row"><div class="left"><input type="checkbox" name="tv_86_plus"><span>86 inch +</span></div><input type="number" min="0" step="1" name="tv_86_plus_qty" placeholder="Qty"></div>
<h2>Mount Type / Quantity</h2>
<div class="row"><div class="left"><input type="checkbox" name="mt_fixed"><span>Fixed / Flat</span></div><input type="number" min="0" step="1" name="mt_fixed_qty" placeholder="Qty"></div>
<div class="row"><div class="left"><input type="checkbox" name="mt_tilt"><span>Tilt</span></div><input type="number" min="0" step="1" name="mt_tilt_qty" placeholder="Qty"></div>
<div class="row"><div class="left"><input type="checkbox" name="mt_fullmotion"><span>Full Motion</span></div><input type="number" min="0" step="1" name="mt_fullmotion_qty" placeholder="Qty"></div>
<div class="row"><div class="left"><input type="checkbox" name="mt_ceiling"><span>Ceiling</span></div><input type="number" min="0" step="1" name="mt_ceiling_qty" placeholder="Qty"></div>
<div class="row"><div class="left"><input type="checkbox" name="mt_customer"><span>Customer supplied</span></div><input type="number" min="0" step="1" name="mt_customer_qty" placeholder="Qty"></div>
<div class="row"><div class="left"><input type="checkbox" name="mt_tech"><span>Tech supplied</span></div><input type="number" min="0" step="1" name="mt_tech_qty" placeholder="Qty"></div>
<h2>Wall Type / Quantity</h2>
<div class="row"><div class="left"><input type="checkbox" name="wall_drywall"><span>Drywall / studs</span></div><input type="number" min="0" step="1" name="wall_drywall_qty" placeholder="Qty"></div>
<div class="row"><div class="left"><input type="checkbox" name="wall_brick"><span>Brick</span></div><input type="number" min="0" step="1" name="wall_brick_qty" placeholder="Qty"></div>
<div class="row"><div class="left"><input type="checkbox" name="wall_concrete"><span>Concrete</span></div><input type="number" min="0" step="1" name="wall_concrete_qty" placeholder="Qty"></div>
<div class="row"><div class="left"><input type="checkbox" name="wall_fireplace"><span>Fireplace</span></div><input type="number" min="0" step="1" name="wall_fireplace_qty" placeholder="Qty"></div>
<div class="row"><div class="left"><input type="checkbox" name="wall_metalstuds"><span>Metal studs</span></div><input type="number" min="0" step="1" name="wall_metalstuds_qty" placeholder="Qty"></div>
<div class="row"><div class="left"><input type="checkbox" name="wall_other_cb"><span>Other</span></div><input type="text" name="wall_other_text" placeholder="Describe..."><input type="number" min="0" step="1" name="wall_other_qty" placeholder="Qty"></div>
<h2>Add-Ons / Quantities</h2>
<div class="row"><div class="left"><input type="checkbox" name="add_inwall"><span>In-wall wire concealment</span></div><input type="number" min="0" step="1" name="add_inwall_qty" placeholder="Qty"></div>
<div class="row"><div class="left"><input type="checkbox" name="add_raceway"><span>Raceway concealment</span></div><input type="number" min="0" step="1" name="add_raceway_qty" placeholder="Qty"></div>
<div class="row"><div class="left"><input type="checkbox" name="add_outletrelocate"><span>Outlet added / relocated</span></div><input type="number" min="0" step="1" name="add_outletrelocate_qty" placeholder="Qty"></div>
<div class="row"><div class="left"><input type="checkbox" name="add_soundbar"><span>Soundbar mounted</span></div><input type="number" min="0" step="1" name="add_soundbar_qty" placeholder="Qty"></div>
<div class="row"><div class="left"><input type="checkbox" name="add_cablemgmt"><span>Cable management</span></div><input type="number" min="0" step="1" name="add_cablemgmt_qty" placeholder="Qty"></div>
<hr>
<h2>Electrical - Quick Checklist</h2>
<div class='small'>Qty is optional ‚Äî use it when it matters.</div>
<div class="row"><div class="left"><input type="checkbox" name="elec_outlet"><span>Outlet / receptacle</span></div><input type="number" min="0" step="1" name="elec_outlet_qty" placeholder="Qty"></div>
<div class="row"><div class="left"><input type="checkbox" name="elec_switch"><span>Switch (single / 3-way)</span></div><input type="number" min="0" step="1" name="elec_switch_qty" placeholder="Qty"></div>
<div class="row"><div class="left"><input type="checkbox" name="elec_gfciafci"><span>GFCI / AFCI</span></div><input type="number" min="0" step="1" name="elec_gfciafci_qty" placeholder="Qty"></div>
<div class="row"><div class="left"><input type="checkbox" name="elec_lightfixture"><span>Light fixture</span></div><input type="number" min="0" step="1" name="elec_lightfixture_qty" placeholder="Qty"></div>
<div class="row"><div class="left"><input type="checkbox" name="elec_ceilingfan"><span>Ceiling fan</span></div><input type="number" min="0" step="1" name="elec_ceilingfan_qty" placeholder="Qty"></div>
<div class="row"><div class="left"><input type="checkbox" name="elec_recessed"><span>Recessed light</span></div><input type="number" min="0" step="1" name="elec_recessed_qty" placeholder="Qty"></div>
<div class="row"><div class="left"><input type="checkbox" name="elec_bathfan"><span>Bathroom exhaust fan</span></div><input type="number" min="0" step="1" name="elec_bathfan_qty" placeholder="Qty"></div>
<div class="row"><div class="left"><input type="checkbox" name="elec_smokeco"><span>Smoke / CO detector</span></div><input type="number" min="0" step="1" name="elec_smokeco_qty" placeholder="Qty"></div>
<div class="row"><div class="left"><input type="checkbox" name="elec_appliancecircuit"><span>Appliance circuit</span></div><input type="number" min="0" step="1" name="elec_appliancecircuit_qty" placeholder="Qty"></div>
<div class="row"><div class="left"><input type="checkbox" name="elec_dedicated"><span>Dedicated circuit</span></div><input type="number" min="0" step="1" name="elec_dedicated_qty" placeholder="Qty"></div>
<div class="row"><div class="left"><input type="checkbox" name="elec_panelbreaker"><span>Panel / breaker</span></div><input type="number" min="0" step="1" name="elec_panelbreaker_qty" placeholder="Qty"></div>
<div class="row"><div class="left"><input type="checkbox" name="elec_subpanel"><span>Subpanel</span></div><input type="number" min="0" step="1" name="elec_subpanel_qty" placeholder="Qty"></div>
<div class="row"><div class="left"><input type="checkbox" name="elec_troubleshoot"><span>Troubleshooting (hrs)</span></div><input type="number" min="0" step="1" name="elec_troubleshoot_qty" placeholder="Qty"></div>
<div class="row"><div class="left"><input type="checkbox" name="elec_other_cb"><span>Other</span></div><input type="text" name="elec_other_text" placeholder="Describe..."><input type="number" min="0" step="1" name="elec_other_qty" placeholder="Qty"></div>
<div class="row"><div class="left"><input type="checkbox" name="elec_extra_cb"><span>Extra</span></div></div>
<p class='small'>This HTML form is Base44-ready (web view). To save submissions, we connect it to your Base44 tables / API.</<h2>Common Options</h2>
<div class="options-list">
<h2>General Options</h2>

<div class="row">
  <div class="left">
    <input type="checkbox" onchange="toggleQty(this)">
    <span>Storm Door</span>
  </div>
  <input class="qty" type="number" min="1" value="1" disabled>
</div>

<div class="row">
  <div class="left">
    <input type="checkbox" onchange="toggleQty(this)">
    <span>Ring Doorbell</span>
  </div>
  <input class="qty" type="number" min="1" value="1" disabled>
</div>

<div class="row">
  <div class="left">
    <input type="checkbox" onchange="toggleQty(this)">
    <span>Ring Camera</span>
  </div>
  <input class="qty" type="number" min="1" value="1" disabled>
</div>

<div class="row">
  <div class="left">
    <input type="checkbox" onchange="toggleQty(this)">
    <span>Faucet Replace</span>
  </div>
  <input class="qty" type="number" min="1" value="1" disabled>
</div>

<div class="row">
  <div class="left">
    <input type="checkbox" onchange="toggleQty(this)">
    <span>Shower Handle Replace</span>
  </div>
  <input class="qty" type="number" min="1" value="1" disabled>
</div>

<div class="row">
  <div class="left">
    <input type="checkbox" onchange="toggleQty(this)">
    <span>Toilet Replace</span>
  </div>
  <input class="qty" type="number" min="1" value="1" disabled>
</div>

<div class="row">
  <div class="left">
    <input type="checkbox" onchange="toggleQty(this)">
    <span>Toilet Flusher Repair</span>
  </div>
  <input class="qty" type="number" min="1" value="1" disabled>
</div>

<div class="row">
  <div class="left">
    <input type="checkbox" onchange="toggleQty(this)">
    <span>Door Knob Replace</span>
  </div>
  <input class="qty" type="number" min="1" value="1" disabled>
</div>
  
</div>
 <script>
  // Enable / disable quantity inputs
  function toggleQty(cb) {
    const row = cb.closest('.row');
    const qty = row.querySelector('.qty');
    if (!qty) return;
    qty.disabled = !cb.checked;
    if (!cb.checked) qty.value = 1;
  }

  // Photo preview + delete
  document.addEventListener('DOMContentLoaded', () => {
    const fileInput = document.querySelector('input[type="file"][multiple]');
    if (!fileInput) return;

    const preview = document.createElement('div');
    preview.className = 'photo-preview';
    fileInput.after(preview);

    fileInput.addEventListener('change', () => {
      preview.innerHTML = '';
      [...fileInput.files].forEach((file, index) => {
        const reader = new FileReader();
        reader.onload = e => {
          const wrap = document.createElement('div');
          wrap.className = 'thumb';

          wrap.innerHTML = `
            <img src="${e.target.result}">
            <button type="button">‚úï</button>
          `;

          wrap.querySelector('button').onclick = () => wrap.remove();
          preview.appendChild(wrap);
        };
        reader.readAsDataURL(file);
      });
    });
  });
</script> 
</body></html>
